<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predictor ML - {{ dataset_info.nombre_dataset|default('Dataset') }}</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .seccion { border: 1px solid #ddd; padding: 20px; margin: 10px 0; border-radius: 5px; }
        .grafica { width: 100%; height: 400px; margin: 20px 0; }
        button { background: #007bff; color: white; border: none; padding: 10px 15px; cursor: pointer; }
        button:hover { background: #0056b3; }
        input, select { padding: 5px; margin: 5px; }
        .resultado { background: #f8f9fa; padding: 10px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1> Predictor de {{ target_col }}</h1>
    
    <!-- Secci贸n 1: Informaci贸n del dataset -->
    <div class="seccion">
        <h2> Dataset: {{ dataset_info.nombre|default('Sin nombre') }}</h2>
        <p>Filas: {{ dataset_info.filas }}, Columnas: {{ dataset_info.columnas }}</p>
        <div id="info-dataset"></div>
    </div>
    
    <!-- Secci贸n 2: Configuraci贸n de muestra -->
    <div class="seccion">
        <h2>锔 Configurar Muestra</h2>
        <label>Semilla aleatoria: <input type="number" id="semilla" value="42"></label>
        <label>Porcentaje a usar: 
            <select id="porcentaje">
                <option value="1.0">100%</option>
                <option value="0.5">50%</option>
                <option value="0.2">20%</option>
            </select>
        </label>
        <label>Divisi贸n entrenamiento/prueba: 
            <select id="split">
                <option value="0.8">80/20</option>
                <option value="0.7">70/30</option>
            </select>
        </label>
        <button onclick="configurar()">Aplicar Configuraci贸n</button>
        <div id="mensaje-config" class="resultado"></div>
    </div>
    
    <!-- Secci贸n 3: Evaluaci贸n y gr谩ficas -->
    <div class="seccion">
        <h2> Evaluar Modelo</h2>
        <button onclick="evaluar()">Generar Gr谩ficas y M茅tricas</button>
        <div id="metricas" class="resultado"></div>
        <div id="grafica-matriz" class="grafica"></div>
        <div id="grafica-dist" class="grafica"></div>
        <div id="grafica-imp" class="grafica"></div>
    </div>
    
    <!-- Secci贸n 4: Predicci贸n manual -->
    <div class="seccion">
        <h2> Realizar Predicci贸n</h2>
        <div id="formulario-prediccion">
            <!-- Los campos se generar谩n autom谩ticamente con JavaScript -->
        </div>
        <div id="resultado-prediccion" class="resultado"></div>
    </div>
    
    <script src="/static/js/app.js"></script>
</body>
</html>